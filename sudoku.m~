function sudoku
%% nadpis, tlaèítka pro ovládání
fig = figure('MenuBar', 'none');
%defaultní sudoku
matice = [0 0 0 1 2 0 0 0 0; 7 0 0 0 0 4 0 2 0; 4 0 0 0 0 6 3 1 0;...
          8 0 0 0 0 0 6 0 0; 0 6 4 0 0 0 9 5 0; 0 0 9 0 0 0 0 0 7;...
          0 1 8 2 0 0 0 0 5; 0 3 0 6 0 0 0 0 9; 0 0 0 0 1 5 0 0 0];

text1 = uicontrol('Units','Normalized',...
'BackgroundColor',[.8 .8 .8],...
'Style','Text',...
'Position',[.1 .8 .2 .1],...
'Visible','on',...
'FontSize',18,...
'String','Sudoku');

handle.cudlik01 = uicontrol('style','pushbutton',...
    'Units','Normalized',...
    'String', 'Nahrát',...
    'BackgroundColor','w',...
    'Position',[.775 .4 .2 .1],...
    'Visible','on');

handle.cudlik02 = uicontrol('style','pushbutton',...
    'Units','Normalized',...
    'String', 'Uložit',...
    'BackgroundColor','w',...
    'Position',[.775 .275 .2 .1],...
    'Visible','on');

%% první øádka
handle.cudlik1 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.05 .05 .074 .074],...
    'Visible','on');

handle.cudlik2 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.125 .05 .074 .074],...
    'Visible','on');

handle.cudlik3 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.2 .05 .074 .074],...
    'Visible','on');

handle.cudlik4 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.285 .05 .074 .074],...
    'Visible','on');

handle.cudlik5 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.36 .05 .074 .074],...
    'Visible','on');

handle.cudlik6 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.435 .05 .074 .074],...
    'Visible','on');

handle.cudlik7 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.52 .05 .074 .074],...
    'Visible','on');

handle.cudlik8 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.596 .05 .074 .074],...
    'Visible','on');

handle.cudlik9 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.671 .05 .074 .074],...
    'Visible','on');

%% druhá øada

handle.cudlik21 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.05 .126 .074 .074],...
    'Visible','on');

handle.cudlik22 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.125 .126 .074 .074],...
    'Visible','on');

handle.cudlik23 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.2 .126 .074 .074],...
    'Visible','on');

handle.cudlik24 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.285 .126 .074 .074],...
    'Visible','on');

handle.cudlik25 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.36 .126 .074 .074],...
    'Visible','on');

handle.cudlik26 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.435 .126 .074 .074],...
    'Visible','on');

handle.cudlik27 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.52 .126 .074 .074],...
    'Visible','on');

handle.cudlik28 = uicontrol('style','edit',...
    'Units','Normalized',...   
    'BackgroundColor','w',...
    'Position',[.596 .126 .074 .074],...
    'Visible','on');

handle.cudlik29 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.671 .126 .074 .074],...
    'Visible','on');

%% tøetí øada

handle.cudlik31 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.05 .202 .074 .074],...
    'Visible','on');

handle.cudlik32 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.125 .202 .074 .074],...
    'Visible','on');

handle.cudlik33 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.2 .202 .074 .074],...
    'Visible','on');

handle.cudlik34 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.285 .202 .074 .074],...
    'Visible','on');

handle.cudlik35 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.36 .202 .074 .074],...
    'Visible','on');

handle.cudlik36 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.435 .202 .074 .074],...
    'Visible','on');

handle.cudlik37 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.52 .202 .074 .074],...
    'Visible','on');

handle.cudlik38 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.596 .202 .074 .074],...
    'Visible','on');

handle.cudlik39 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.671 .202 .074 .074],...
    'Visible','on');

%% ctvrtá øada

handle.cudlik41 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.05 .288 .074 .074],...
    'Visible','on');

handle.cudlik42 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.125 .288 .074 .074],...
    'Visible','on');

handle.cudlik43 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.2 .288 .074 .074],...
    'Visible','on');

handle.cudlik44 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.285 .288 .074 .074],...
    'Visible','on');

handle.cudlik45 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.36 .288 .074 .074],...
    'Visible','on');

handle.cudlik46 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.435 .288 .074 .074],...
    'Visible','on');

handle.cudlik47 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.52 .288 .074 .074],...
    'Visible','on');

handle.cudlik48 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.596 .288 .074 .074],...
    'Visible','on');

handle.cudlik49 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.671 .288 .074 .074],...
    'Visible','on');

%% pátá øada

handle.cudlik51 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.05 .364 .074 .074],...
    'Visible','on');

handle.cudlik52 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.125 .364 .074 .074],...
    'Visible','on');

handle.cudlik53 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.2 .364 .074 .074],...
    'Visible','on');

handle.cudlik54 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.285 .364 .074 .074],...
    'Visible','on');

handle.cudlik55 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.36 .364 .074 .074],...
    'Visible','on');

handle.cudlik56 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.435 .364 .074 .074],...
    'Visible','on');

handle.cudlik57 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.52 .364 .074 .074],...
    'Visible','on');

handle.cudlik58 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.596 .364 .074 .074],...
    'Visible','on');

handle.cudlik59 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.671 .364 .074 .074],...
    'Visible','on');

%% šestá øada

handle.cudlik61 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.05 .44 .074 .074],...
    'Visible','on');

handle.cudlik62 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.125 .44 .074 .074],...
    'Visible','on');

handle.cudlik63 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.2 .44 .074 .074],...
    'Visible','on');

handle.cudlik64 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.285 .44 .074 .074],...
    'Visible','on');

handle.cudlik65 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.36 .44 .074 .074],...
    'Visible','on');

handle.cudlik66 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.435 .44 .074 .074],...
    'Visible','on');

handle.cudlik67 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.52 .44 .074 .074],...
    'Visible','on');

handle.cudlik68 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.596 .44 .074 .074],...
    'Visible','on');

handle.cudlik69 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.671 .44 .074 .074],...
    'Visible','on');

%% sedmá øada

handle.cudlik71 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.05 .526 .074 .074],...
    'Visible','on');

handle.cudlik72 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.125 .526 .074 .074],...
    'Visible','on');

handle.cudlik73 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.2 .526 .074 .074],...
    'Visible','on');

handle.cudlik74 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.285 .526 .074 .074],...
    'Visible','on');

handle.cudlik75 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.36 .526 .074 .074],...
    'Visible','on');

handle.cudlik76 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.435 .526 .074 .074],...
    'Visible','on');

handle.cudlik77 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.52 .526 .074 .074],...
    'Visible','on');

handle.cudlik78 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.596 .526 .074 .074],...
    'Visible','on');

handle.cudlik79 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.671 .526 .074 .074],...
    'Visible','on');

%% osmá øada

handle.cudlik81 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.05 .602 .074 .074],...
    'Visible','on');

handle.cudlik82 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.125 .602 .074 .074],...
    'Visible','on');

handle.cudlik83 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.2 .602 .074 .074],...
    'Visible','on');

handle.cudlik84 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.285 .602 .074 .074],...
    'Visible','on');

handle.cudlik85 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.36 .602 .074 .074],...
    'Visible','on');

handle.cudlik86 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.435 .602 .074 .074],...
    'Visible','on');

handle.cudlik87 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.52 .602 .074 .074],...
    'Visible','on');

handle.cudlik88 = uicontrol('style','edit',...
    'Units','Normalized',...    
    'BackgroundColor','w',...
    'Position',[.596 .602 .074 .074],...
    'Visible','on');

handle.cudlik89 = uicontrol('style','edit',...
    'Units','Normalized',...   
    'BackgroundColor','w',...
    'Position',[.671 .602 .074 .074],...
    'Visible','on');

%% devátá øada

handle.cudlik91 = uicontrol('style','edit',...
    'Units','Normalized',...
    'BackgroundColor','w',...
    'Position',[.05 .678 .074 .074],...
    'Visible','on');

handle.cudlik92 = uicontrol('style','edit',...
    'Units','Normalized',...
    'BackgroundColor','w',...
    'Position',[.125 .678 .074 .074],...
    'Visible','on');

handle.cudlik93 = uicontrol('style','edit',...
    'Units','Normalized',...
    'BackgroundColor','w',...
    'Position',[.2 .678 .074 .074],...
    'Visible','on');

handle.cudlik94 = uicontrol('style','edit',...
    'Units','Normalized',...
    'BackgroundColor','w',...
    'Position',[.285 .678 .074 .074],...
    'Visible','on');

handle.cudlik95 = uicontrol('style','edit',...
    'Units','Normalized',...
    'BackgroundColor','w',...
    'Position',[.36 .678 .074 .074],...
    'Visible','on');

handle.cudlik96 = uicontrol('style','edit',...
    'Units','Normalized',...
    'BackgroundColor','w',...
    'Position',[.435 .678 .074 .074],...
    'Visible','on');

handle.cudlik97 = uicontrol('style','edit',...
    'Units','Normalized',...
    'BackgroundColor','w',...
    'Position',[.52 .678 .074 .074],...
    'Visible','on');

handle.cudlik98 = uicontrol('style','edit',...
    'Units','Normalized',...
    'BackgroundColor','w',...
    'Position',[.596 .678 .074 .074],...
    'Visible','on');

handle.cudlik99 = uicontrol('style','edit',...
    'Units','Normalized',...
    'BackgroundColor','w',...
    'Position',[.671 .678 .074 .074],...
    'Visible','on');

%% nastavení
DATA{1,1} = handle;
DATA{1,2} = matice;
set(fig,'userdata',DATA);

for m = 1:9
    for n = 1:9
        e = getSpravnyEdit(fig,[m,n]);
        set(e, 'Callback', @(scr, event)zkontroluj(fig, [m, n], e));
    end
end

set(handle.cudlik01, 'Callback', @(scr,event)nacti(fig));
set(handle.cudlik02, 'Callback', @(scr,event)uloz(fig));

prepisDoGUI(fig);

DATA{1,1} = handle;
DATA{1,2} = matice;
set(fig,'userdata',DATA);
end
%% fce

function zkontroluj (fig, umisteni, cudlik)
    DATA = get(fig, 'userdata');
    matice = DATA{1,2};
    handle = DATA{1,1};
    prvek = str2double(get(cudlik,'String'));
    if ~lzeVlozit(fig, umisteni, prvek) %pøes podmínku projde jen pokud se vrátí 0 (= 0 porušených pravidel)
       set(cudlik, 'BackgroundColor', 'w'); 
       matice(umisteni(1), umisteni(2)) = prvek; %uloží se do matice
    else
        set(cudlik, 'BackgroundColor', 'r'); %políèko se zbarví èervenì na znamení špatného èísla
    end
    DATA{1,2} = matice;
    DATA{1,1} = handle;
    set(fig,'userdata',DATA)
end

function [povoleni] = lzeVlozit (fig, pozice, prvek)
    if prvek > 0 && prvek < 10   %nejdøív zkontroluje povolenou hodnotu
        DATA = get(fig, 'userdata');
        matice = DATA{1,2};
        ohodnoceni = ismember(matice, prvek);
        radky = sum(ohodnoceni, 2);
        radek = radky(pozice(1)); %zjistí, jestli v požadovaném øádku již zadané èíslo není
        sloupce = sum(ohodnoceni, 1);
        sloupec = sloupce(pozice(2)); %zjistí, jestli v požadovaném sloupci již dané èíslo není
    
        if ismember([1,2,3], pozice(1))  %% nejdøív se najde ètverec, kterého se kontrola týká
            if ismember([1,2,3], pozice(2))
                ctverec = sum(sum(ohodnoceni(1:3,1:3)),2);
            elseif ismember([4,5,6], pozice(2))
                ctverec = sum(sum(ohodnoceni(4:6,1:3)),2); % a zkontroluje, zda už tam chtìné èíslo není
            else
                ctverec = sum(sum(ohodnoceni(7:9,1:3)),2);
            end
        elseif ismember([4,5,6], pozice(1)) 
            if ismember([1,2,3], pozice(2))
                ctverec = sum(sum(ohodnoceni(1:3,4:6)),2);
            elseif ismember([4,5,6], pozice(2))
                ctverec = sum(sum(ohodnoceni(4:6,4:6)),2);
            else
                ctverec = sum(sum(ohodnoceni(7:9,4:6)),2);
            end
        else
            if ismember([1,2,3], pozice(2)) 
                ctverec = sum(sum(ohodnoceni(1:3,7:9)),2);
            elseif ismember([4,5,6], pozice(2))
                ctverec = sum(sum(ohodnoceni(4:6,7:9)),2);
            else
                ctverec = sum(sum(ohodnoceni(7:9,7:9)),2);
            end
        end
        povoleni = radek + sloupec + ctverec; % seètením hodnot pro sloupec, øádek a ètverec získám kolikrát je porušeno pravidlo
    else
        povoleni = 1; % toto je v pøípadì, že bylo zadáno èíslo <1 nebo >9
    end
end


function nacti (fig)
     
    try
        [FileName,PathName] = uigetfile('*.mat','Vyberte sudoku:');  
    
        if (FileName == null) && (PathName == null)
            load(fullfile(PathName, FileName), 'matice')
            DATA = get(fig,'userdata');
            DATA{1,2} = matice;
            set(fig,'userdata',DATA);
            prepisDoGUI(fig);
        end
    catch
            disp('Naètení souboru se nezdaøilo.'); 
    end
end

function uloz (fig)
    DATA = get(fig, 'userdata');
    matice = DATA{1,2};
    [file,path] = uiputfile('*.mat','Ulozit sudoku jako:', ...
    'sudoku01.mat');
    try
        save(fullfile(path,file), 'matice');
    catch
        disp('Sudoku se nepodaøilo uložit.')
    end
end

function [edit] = getSpravnyEdit (fig, pozice)  
% podle pozice v møížce se vybere správný handler k políèku
    DATA = get(fig, 'userdata');
    handle = DATA{1,1};
   switch pozice(1)
       case 1
           switch pozice(2)
               case 1 
                   edit = handle.cudlik1;
               case 2 
                   edit = handle.cudlik2;
               case 3 
                   edit = handle.cudlik3;
               case 4 
                   edit = handle.cudlik4;
               case 5 
                   edit = handle.cudlik5;
               case 6 
                   edit = handle.cudlik6;
               case 7 
                   edit = handle.cudlik7;
               case 8 
                   edit = handle.cudlik8;
               case 9 
                   edit = handle.cudlik9;
           end
       case 2
           switch pozice(2)
               case 1 
                   edit = handle.cudlik21;
               case 2 
                   edit = handle.cudlik22;
               case 3 
                   edit = handle.cudlik23;
               case 4 
                   edit = handle.cudlik24;
               case 5 
                   edit = handle.cudlik25;
               case 6 
                   edit = handle.cudlik26;
               case 7 
                   edit = handle.cudlik27;
               case 8 
                   edit = handle.cudlik28;
               case 9 
                   edit = handle.cudlik29;
           end
       case 3
           switch pozice(2)
               case 1 
                   edit = handle.cudlik31;
               case 2 
                   edit = handle.cudlik32;
               case 3 
                   edit = handle.cudlik33;
               case 4 
                   edit = handle.cudlik34;
               case 5 
                   edit = handle.cudlik35;
               case 6 
                   edit = handle.cudlik36;
               case 7 
                   edit = handle.cudlik37;
               case 8 
                   edit = handle.cudlik38;
               case 9 
                   edit = handle.cudlik39;
           end
       case 4
           switch pozice(2)
               case 1 
                   edit = handle.cudlik41;
               case 2 
                   edit = handle.cudlik42;
               case 3 
                   edit = handle.cudlik43;
               case 4 
                   edit = handle.cudlik44;
               case 5
                   edit = handle.cudlik45;
               case 6 
                   edit = handle.cudlik46;
               case 7 
                   edit = handle.cudlik47;
               case 8 
                   edit = handle.cudlik48;
               case 9 
                   edit = handle.cudlik49;
           end
       case 5
           switch pozice(2)
               case 1
                   edit = handle.cudlik51;
               case 2 
                   edit = handle.cudlik52;
               case 3 
                   edit = handle.cudlik53;
               case 4 
                   edit = handle.cudlik54;
               case 5 
                   edit = handle.cudlik55;
               case 6 
                   edit = handle.cudlik56;
               case 7 
                   edit = handle.cudlik57;
               case 8
                   edit = handle.cudlik58;
               case 9
                   edit = handle.cudlik59;
           end
       case 6
           switch pozice(2)
               case 1 
                   edit = handle.cudlik61;
               case 2 
                   edit = handle.cudlik62;
               case 3 
                   edit = handle.cudlik63;
               case 4 
                   edit = handle.cudlik64;
               case 5 
                   edit = handle.cudlik65;
               case 6 
                   edit = handle.cudlik66;
               case 7 
                   edit = handle.cudlik67;
               case 8 
                   edit = handle.cudlik68;
               case 9 
                   edit = handle.cudlik69;
           end
       case 7
           switch pozice(2)
               case 1 
                   edit = handle.cudlik71;
               case 2 
                   edit = handle.cudlik72;
               case 3 
                   edit = handle.cudlik73;
               case 4 
                   edit = handle.cudlik74;
               case 5 
                   edit = handle.cudlik75;
               case 6 
                   edit = handle.cudlik76;
               case 7 
                   edit = handle.cudlik77;
               case 8 
                   edit = handle.cudlik78;
               case 9 
                   edit = handle.cudlik79;
           end
       case 8
           switch pozice(2)
               case 1
                   edit = handle.cudlik81;
               case 2
                   edit = handle.cudlik82;
               case 3 
                   edit = handle.cudlik83;
               case 4 
                   edit = handle.cudlik84;
               case 5 
                   edit = handle.cudlik85;
               case 6 
                   edit = handle.cudlik86;
               case 7 
                   edit = handle.cudlik87;
               case 8
                   edit = handle.cudlik88;
               case 9 
                   edit = handle.cudlik89;
           end
       case 9
           switch pozice(2)
               case 1 
                   edit = handle.cudlik91;
               case 2 
                   edit = handle.cudlik92;
               case 3
                   edit = handle.cudlik93;
               case 4
                   edit = handle.cudlik94;
               case 5
                   edit = handle.cudlik95;
               case 6
                   edit = handle.cudlik96;
               case 7
                   edit = handle.cudlik97;
               case 8
                   edit = handle.cudlik98;
               case 9 
                   edit = handle.cudlik99;
           end
   end
end

function prepisDoGUI (fig)
% nastaví data do políèek
    DATA = get(fig, 'userdata');
    handle = DATA{1,1};
    matice = DATA{1,2};
    
    for m = 1:9
        for n = 1:9  
           hndl = getSpravnyEdit(fig, [m, n]); 
           if matice(m,n) ~= 0
              set(hndl, 'String', matice(m,n)); 
              set (hndl, 'Enable', 'inactive');
           else
              set(hndl, 'String', ''); 
           end
        end
    end
    DATA{1,1} = handle;
    set(fig,'userdata',DATA)
end
